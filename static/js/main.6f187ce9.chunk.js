(this.webpackJsonpmeldcx=this.webpackJsonpmeldcx||[]).push([[0],{4:function(n,e,t){n.exports=t(9)},9:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(3),i=t.n(o),l=t(1);function c(n,e,t,a,r,o){var i=new XMLHttpRequest;i.open(a,n,!0),t&&Object.keys(t).forEach((function(n){i.setRequestHeader(n,t[n])})),i.setRequestHeader("Content-Type","application/json"),i.onload=function(n){return o(null,i)},i.onerror=function(n){return o(new Error,i)},i.send(r)}var s=function(){var n=Object(a.useState)(""),e=Object(l.a)(n,2),t=e[0],o=e[1],i=Object(a.useState)(""),s=Object(l.a)(i,2),u=s[0],d=s[1],m=Object(a.useState)(null),f=Object(l.a)(m,2),g=f[0],p=f[1],h=function(n,e){if(p(null),200===e.status)return localStorage.setItem("authtoken",e.responseText),window.location.reload();401!==e.status?p("error, server status code: ".concat(e.status)):localStorage.setItem("authtoken",null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,"\n        .layer10 {\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            position: absolute;\n            z-index: 10;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        .loginContainer {\n          display: flex; \n          order: 0;\n          flex: 0 1 auto;\n          align-self: center;\n          z-index: 100;\n          margin: 20px;\n          width: 300px;\n          height: 300px;\n          margin:50px;\n          padding:50px;\n          align-self: center;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n          text-align: center;\n        }\n\n        .loginButton {\n            margin: 0;\n            font-weight: 400;\n            text-align: center;\n            vertical-align: middle;\n            user-select: none;\n            border: 1px solid transparent;\n            padding: .375rem .75rem;\n            font-size: 1rem;\n            line-height: 1.5;\n            border-radius: .25rem;\n            color: #fff;\n            background-color: #343a40;\n            border-color: #343a40;\n            cursor: pointer;\n            }\n\n      "),r.a.createElement("div",{className:"layer10",style:{backgroundColor:"#263138"}},r.a.createElement("div",{className:"loginContainer",style:{backgroundColor:"#ffffff",flexDirection:"column"}},r.a.createElement("div",{style:{fontSize:"2em",color:"white",display:"block"}},r.a.createElement("span",{style:{color:"#263138",marginTop:"10px"}},"Login")),r.a.createElement("div",{style:{color:"white",display:"block"}},r.a.createElement("input",{className:"form-control",tabIndex:"1",onChange:function(n){return o(n.target.value)},value:t,size:35,required:!0,style:{fontSize:"1.2em",marginTop:"10px",padding:"4px"},placeholder:"Enter an email address",type:"email"})),r.a.createElement("span",{style:{color:"#263138",marginTop:"10px"}},g),r.a.createElement("div",{style:{fontSize:"1em",color:"white"}},r.a.createElement("input",{onChange:function(n){return d(n.target.value)},value:u,tabIndex:"2",size:35,required:!0,style:{fontSize:"1.2em",marginTop:"10px",padding:"4px"},placeholder:"Enter your password",type:"password"})),r.a.createElement("div",{style:{fontSize:"1em",color:"white"}},r.a.createElement("button",{type:"button",className:"loginButton",style:{fontSize:"1.2em",marginTop:"10px"},onClick:function(){p(null),"meld123"===u?c("http://35.201.2.209:8000/login",0,{},"POST",JSON.stringify({email:t,password:u}),h):p("invalid password")}},"LOG IN")))))};function u(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,"\n            .logoutButton:hover {\n                cursor: pointer;\n            }\n\n            .logoutButton {\n                cursor: pointer;\n                margin: 0;\n                font-weight: 400;\n                text-align: center;\n                vertical-align: middle;\n                border: 1px solid transparent;\n                padding: .375rem .75rem;\n                font-size: 1rem;\n                line-height: 1.5;\n                border-radius: .25rem;\n                color: #fff;\n                background-color: #343a40;\n                border-color: #343a40;\n                }\n          "),r.a.createElement("span",{onClick:function(){localStorage.removeItem("authtoken"),window.location.reload()},className:"logoutButton"},"LOGOUT"))}function d(){var n=Object(a.useState)(null),e=Object(l.a)(n,2),t=e[0],o=e[1],i=function(n,e){if(o(null),200===e.status)return localStorage.setItem("authtoken",e.responseText),window.location.reload();401!==e.status?o("error, server status code: ".concat(e.status)):localStorage.setItem("authtoken",null)};return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("style",null,"\n            .notifyButton {\n                margin: 0;\n                font-weight: 400;\n                text-align: center;\n                vertical-align: middle;\n                user-select: none;\n                border: 1px solid transparent;\n                padding: .375rem .75rem;\n                font-size: 1rem;\n                line-height: 1.5;\n                border-radius: .25rem;\n                color: #fff;\n                background-color: #343a40;\n                border-color: #343a40;\n                cursor: pointer;\n                }\n          "),r.a.createElement("span",{type:"button",className:"notifyButton",onClick:function(){o(null);c("http://35.201.2.209:8000/notifyX",0,{Authorization:"Bearer ".concat(localStorage.getItem("authtoken"))},"POST",JSON.stringify({name:"Andrew Stuart",email:"andrewbstuart@gmail.com",repoUrl:"https://github.com/bootrino/meldcx",message:"this is alot more than 4 hours work"}),i)}},"NOTIFY"))}var m=r.a.forwardRef((function(n,e){var t=n.index,o=n.numdevices,i=Math.floor(3e3/o)*t,l=r.a.useRef();return Object(a.useImperativeHandle)(e,(function(){return{startAnimation:function(){return l.current.style.animationPlayState="running"}}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,"\n        .layer30{\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            position: absolute;\n            z-index: 30;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .spinningcenteredcontainer {\n            z-index: 10;\n            margin: 20px;\n            width: 300px;\n            height: 300px;\n            animation-duration: ".concat(3e3,"ms;\n            animation-name: spin;\n            animation-timing-function: linear;\n            animation-play-state: paused;\n            margin:50px;\n            padding:50px;\n        }\n\n        .whiteCircle {\n            width:50px;\n            height:50px;\n            background:white;\n            border-radius:50%;\n        }\n\n      ")),r.a.createElement("div",{className:"layer30"},r.a.createElement("div",{className:"spinningcenteredcontainer",ref:l,style:{animationDelay:"-".concat(i,"ms")}},r.a.createElement("div",{className:"whiteCircle"}))))})),f=function(){var n=Object(a.useState)([]),e=Object(l.a)(n,2),t=e[0],o=e[1],i=Object(a.useState)(null),s=Object(l.a)(i,2),u=(s[0],s[1]);Object(a.useEffect)((function(){var n=function(n,t){if(u(null),o([]),setTimeout(e,5e3),200!==t.status)u("error getting devices, server status code: ".concat(t.status));else{var a=[];try{a=JSON.parse(t.responseText).devices,o(a)}catch(r){u("got a response, but unable to read the devices data: ".concat(r," $devicesData}")),o([])}}},e=function(){return c("http://35.201.2.209:8000/devices",0,{},"GET",null,n)};e()}),[]);var d=[];return t.forEach((function(n,e){d.push(r.a.createElement(m,{key:n.id,index:e,numdevices:t.length}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,"\n\n        .layer10 {\n            pointer-events: none; /* needed because if it overlays a button then button cannot be pressed */\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            position: absolute;\n            z-index: 10;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        .layer20 {\n            pointer-events: none; /* needed because if it overlays a button then button cannot be pressed */\n            width: 100%;\n            height: 100%;\n            top: 0;\n            left: 0;\n            position: absolute;\n            z-index: 20;\n            display: flex;\n            align-self: center;\n            align-items: center;\n            align-content: center;\n            justify-content: center;\n        }\n\n        .deviceinfocontainer {\n            pointer-events: none; /* needed because if it overlays a button then button cannot be pressed */\n          display: flex; \n          order: 0;\n          flex: 0 1 auto;\n          align-self: center;\n          z-index: 100;\n          margin: 20px;\n          width: 300px;\n          height: 300px;\n          margin:50px;\n          padding:50px;\n          align-self: center;\n          align-items: center;\n          align-content: center;\n          justify-content: center;\n          text-align: center;\n        }\n\n        .animationcontainer {\n            pointer-events: none; /* needed because if it overlays a button then button cannot be pressed */\n            animation-duration: 4000ms;\n            animation-iteration-count: infinite;\n            animation-name: spin;\n            animation-timing-function: linear;\n            animation-play-state: running;\n        }\n\n        @keyframes spin {\n            from {\n                transform:rotate(0deg);\n            }\n            to {\n                transform:rotate(360deg);\n            }\n        }\n\n        \n      "),r.a.createElement("div",{className:"layer10"},r.a.createElement("div",{className:"deviceinfocontainer",style:{backgroundColor:"#ef7044",flexDirection:"column"}},r.a.createElement("div",{style:{fontSize:"2em",color:"white",display:"block"}},t.length),r.a.createElement("div",{style:{fontSize:"1em",color:"white"}},"DEVICES"),r.a.createElement("div",{style:{fontSize:"1em",color:"white"}},"ONLINE"))),r.a.createElement("div",{className:"layer20 animationcontainer"},d))},g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",null,"\n             .flex-container {\n                align-content: stretch;\n                align-items: stretch;\n                display: flex;\n                flex-direction: column;\n                flex-wrap: nowrap;\n                justify-content: flex-start;\n                align-content: center;\n                align-items: center;\n                align-self: center;\n                display: flex;\n                height: 100%;\n                justify-content: center;\n                left: 0;\n                position: absolute;\n                top: 0;\n                width: 100%;\n                z-index: 200;\n                background-color: gray;\n                }\n            \n            .top {\n                width: 100%;\n                order: 0;\n                flex: 1 1 auto;\n                align-self: auto;\n                background-color: #ef7044;\n                }\n            \n            .bottom {\n                width: 100%;\n                order: 0;\n                flex: 0 1 auto;\n                align-self: auto;\n                background-color: #d76845;\n                text-align: center;\n                padding: 20px;\n                }\n\n            .notifyButton {\n                margin: 0;\n                font-weight: 400;\n                text-align: center;\n                vertical-align: middle;\n                user-select: none;\n                border: 1px solid transparent;\n                padding: .375rem .75rem;\n                font-size: 1rem;\n                line-height: 1.5;\n                border-radius: .25rem;\n                color: #fff;\n                background-color: #343a40;\n                border-color: #343a40;\n                cursor: pointer;\n                }\n          "),r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{className:"top"},r.a.createElement(f,null)),r.a.createElement("div",{className:"bottom"},r.a.createElement(d,null),"\xa0",r.a.createElement(u,null))))};var p=function(){return null===localStorage.getItem("authtoken")?r.a.createElement(s,null):r.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[4,1,2]]]);
//# sourceMappingURL=main.6f187ce9.chunk.js.map